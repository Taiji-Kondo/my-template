<%
  const _picture = function (path = 'path', ext = 'png', alt = '', classes = '', media = 'sm', sp = true) {
    const $MEDIA = json['breakpoints'][media];
    const $PC_IMAGE = `${path}.${ext}`;
    const $PC_2x_IMAGE = `${path}@2x.${ext}`;
    const $SP_IMAGE = `${path}_sp.${ext}`;
    const $SP_2x_IMAGE = `${path}_sp@2x.${ext}`;

    if (sp) {
      return '<picture>' +
        '<source media="(min-width: ' + $MEDIA + 'px)" srcset="' + $SP_IMAGE + ' 1x, ' + $SP_2x_IMAGE + ' 2x">' +
        '<img class="img ' + classes + '" src="' + $PC_IMAGE + '" srcset="' + $PC_IMAGE + ' 1x, ' + $PC_2x_IMAGE + ' 2x" alt="' + alt + '">'
        '</picture>'
    } else {
      return '<picture>' +
        '<img class="img ' + classes + '" src="' + $PC_IMAGE + '" srcset="' + $PC_IMAGE + ' 1x, ' + $PC_2x_IMAGE + ' 2x" alt="' + alt + '">'
        '</picture>'
    }
  }
%>

<%
  picture = function (path = 'path', ext = 'png', alt = '', classes = '', media = 'sm', sp = true) {
    return _picture(path, ext, alt, classes, media, sp);
  }
%>